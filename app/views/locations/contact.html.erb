<!--
            Admins with permissions lvl-2 or lower are allower to access this page, customer-no
-->

<!--
Form location Information
list all the customer information contacts, location and machines
 -->

<h3 class="card-header">Add Contact</h3>

<!-- Customer form, show -->
<%= form_for @location do |f| %>
  <div class="p-3">
  <!-- Buffer Block -->
  </div>
  <!-- Customer Number name phone -->
  <div class="card w-50 shadow">
    <div class="card-body d-flex flex-row justify-content-between ">
      <div>
        <div>
          <h6 class="pt-3 pr-3"><%= @location.customer.bus_name %></h6>
          <h6 class="pt-3 pr-3">Tel: <%= @location.customer.phone %></h6>
        </div>
      </div>
      <div>
        <h6 class="pt-3 pr-3"><%= @location.customer_number %></h6>
      </div>
    </div>
  </div>
  <!-- Costumer Name -->
  <div class="d-flex flex-row shadow"> <!-- cards wrapper -->
    <div class="card w-50">
      <h5 class="card-header"><%= @location.name %></h5>
      <!-- Costumer Info -->
      <div class="card-body">
        <div class="d-flex flex-row justify-content-between">
          <!-- Phone and Email -->
          <div>
            <h5 class="card-title">Contact:</h5>
            <p class="card-text m-0">Tel: <%= @location.phone %></p>
            <p class="card-text m-0">Tel: <%= @location.email %></p>
          </div>
          <!-- Address -->
          <div class="mr-3">
            <h5 class="card-title">Address:</h5>
            <p class="card-text d-flex justify-content-end m-0"><%= @location.suite %></p>
            <p class="card-text d-flex justify-content-end m-0"><%= @location.street %></p>
            <p class="card-text d-flex justify-content-end m-0"><%= @location.city%>, <%= @location.state%> <%= @location.zip_code %></p>
            <p class="card-text d-flex justify-content-end m-0"><%= @location.country %></p>
          </div>
        </div>
        <div>
          <%= link_to "Add machine", new_customer_location_machine_path(@location), class: "btn btn-outline-success mt-5" %>
        </div>
      </div><!-- card-body -->
      <!-- On Edit link to 'GET' customers#edit -->
      <%= link_to "Edit", edit_location_path(@location), class: 'btn btn-info' %>
    </div><!-- card -->
    <!-- Main Contact -->
    <div class="card w-50">
      <div class="card-header formHeadBlockSizing">
        <h5>Contact</h5>
      </div>
      <div class="card-body">
        <div class="d-flex flex-row justify-content-between">
          <!-- Name -->
          <div>
            <p class="card-text m-0">Title:<p>
            <p class="card-text"><%= f.text_field :contact_title, class: 'form-control-sm' %></p>
            <p class="card-text"><%= f.text_field :contact__first_name, placeholder:"First name", class: 'form-control-sm' %></p>
            <p class="card-text"><%= f.text_field :contact__last_name, placeholder:"Last name", class: 'form-control-sm' %></P>
          </div>
          <!-- Phone and email -->
          <div class="mr-5">
            <p class="card-text"></p>
            <p class="card-text m-0">Tel:</p>
            <p class="card-text"><%= f.text_field :contact_phone, class: 'form-control-sm'  %></p>
            <p class="card-text m-0">Email:</p>
            <p class="card-text"><%= f.text_field :contact_email, class: 'form-control-sm' %></p>
          </div>
        </div>
      </div><!-- card-body -->
      <!-- On Edit link to 'PUT' locations#update -->
      <%= f.submit "Submit", class: "btn btn-info" %>
    </div><!-- card -->
  </div><!-- cards wrapper -->
<% end %>
